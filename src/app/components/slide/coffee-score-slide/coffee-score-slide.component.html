<div class="sensory-slide">
  <app-slider-title
    [title]="'scoreTitle' | translate"
    [subtitle]="'scoreSubtitle' | translate"
  ></app-slider-title>

  <!-- Aroma Section -->
  <div class="section-header">
    <div class="section-header">
      <span class="section-title">{{ 'generalImpressionLabel' | translate }}</span>
      <span class="section-description">{{ 'generalImpressionDescription' | translate }}</span>
    </div>

    <div class="text-input-container">
      <textarea
        class="sensory-textarea"
        [placeholder]="'aromaPlaceholder' | translate"
        [value]="scoreData().opinion"
        (input)="onOpinionChange($any($event.target).value)"
        rows="2"
        maxlength="500"
      ></textarea>
    </div>

    <div class="section-header" [class.invalid]="shouldShowScoreError()">
      <span class="section-title">{{ 'scoreLabel' | translate }}</span>
    </div>

    <div class="score-input" [class.score-invalid]="shouldShowScoreError()">
      <input
        type="number"
        id="score"
        min="0"
        max="10"
        step="1"
        [value]="scoreData().score"
        (input)="onScoreInput($event)"
        (blur)="scoreTouched.set(true)"
        (keydown)="onScoreKeydown($event)"
        (paste)="onScorePaste($event)"
      />
      <span class="score-display">{{ scoreData().score }} / 10</span>
    </div>
    @if (shouldShowScoreError()) {
    <span class="validation-message">{{ 'scoreError' | translate }}</span>
    }
  </div>

  <section class="form-section">
    <div class="section-header">
      <span class="section-title">{{ 'coffeeImageTitle' | translate }}</span>
    </div>

    <div class="image-upload">
      @if (!selectedImage()) {
      <label for="imageInput" class="upload-label">
        <div class="upload-placeholder">
          <span class="upload-icon">ðŸ“·</span>
          <p>{{ 'uploadImageText' | translate }}</p>
          <p class="upload-hint">{{ 'uploadImageHint' | translate }}</p>
        </div>
        <input
          type="file"
          id="imageInput"
          accept="image/*"
          (change)="onImageSelected($event)"
          style="display: none"
        />
      </label>
      } @else {
      <div class="image-preview">
        <img [src]="selectedImage()" alt="Preview" />
        <button type="button" class="remove-image" (click)="removeImage()">{{ 'removeImageButton' | translate }}</button>
      </div>
      }
    </div>
  </section>

  <!-- Save Button -->
  <div class="save-button-container">
    <button type="button" class="save-button" (click)="onSaveForm()">{{ 'saveTastingButton' | translate }}</button>
  </div>
</div>
