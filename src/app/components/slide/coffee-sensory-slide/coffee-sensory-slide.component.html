<div class="sensory-slide">
  <app-slider-title
    [title]="'sensoryTitle' | translate"
    [subtitle]="'sensorySubtitle' | translate"
  ></app-slider-title>

  <!-- Aroma Section -->
  <div class="section-header">
    <div class="section-header" [class.invalid]="shouldShowAromaError()">
      <span class="section-title">{{ 'aromaLabel' | translate }}</span>
      <span class="section-description">{{ 'aromaDescription' | translate }}</span>
    </div>

    <div class="text-input-container">
      <textarea
        class="sensory-textarea"
        [class.textarea-invalid]="shouldShowAromaError()"
        [placeholder]="'aromaPlaceholder' | translate"
        [value]="sensoryData().aroma"
        (input)="onAromaChange($any($event.target).value)"
        (blur)="aromaTouched.set(true)"
        rows="2"
        maxlength="200"
      ></textarea>
      @if (shouldShowAromaError()) {
        <span class="validation-message">{{ 'aromaError' | translate }}</span>
      }
    </div>

    <div class="section-header" [class.invalid]="shouldShowFlavorError()">
      <span class="section-title">{{ 'flavorLabel' | translate }}</span>
      <span class="section-description">{{ 'flavorDescription' | translate }}</span>
    </div>

    <div class="text-input-container">
      <textarea
        class="sensory-textarea"
        [class.textarea-invalid]="shouldShowFlavorError()"
        [placeholder]="'flavorPlaceholder' | translate"
        [value]="sensoryData().flavor"
        (input)="onFlavorChange($any($event.target).value)"
        (blur)="flavorTouched.set(true)"
        rows="2"
        maxlength="200"
      ></textarea>
      @if (shouldShowFlavorError()) {
        <span class="validation-message">{{ 'flavorError' | translate }}</span>
      }
    </div>
  </div>

  <!-- Body Section -->
  <div class="section-header" [class.invalid]="shouldShowBodyError()">
    <span class="section-title">{{ 'bodyLabel' | translate }}</span>
    <span class="section-description">{{ 'bodyDescription' | translate }}</span>
  </div>
  <div class="slider-container body-slider-container" [class.container-invalid]="shouldShowBodyError()">
    <!-- Slider Labels -->
    <div class="slider-labels">
      @for (level of bodyLevels(); track level.value) {
      <span class="slider-label-text" [class.active]="sensoryData().body === level.value">
        {{ level.label | translate }}
      </span>
      }
    </div>

    <!-- Slider Input -->
    <input
      type="range"
      class="sensory-slider body-slider"
      min="0"
      [max]="bodyLevels().length - 1"
      [value]="getCurrentBodyIndex()"
      (input)="onBodySliderChange($any($event.target).value)"
      (blur)="bodyTouched.set(true)"
      [style.--slider-color]="getCurrentBodyColor()"
    />

    <!-- Visual Indicator -->
    <div class="slider-indicator" [style.background-color]="getCurrentBodyColor()">
      <span class="slider-emoji">{{ getCurrentBodyIcon() }}</span>
      <span class="slider-text">{{ getCurrentDescription() | translate }}</span>
    </div>
  </div>
  @if (shouldShowBodyError()) {
    <span class="validation-message">Debes seleccionar el nivel de cuerpo</span>
  }
</div>
