<div class="tasting-card" (click)="onCardClick()">
  <!-- Header con imagen y puntuación -->
  <div class="card-header">
    @if (tasting.image) {
    <div class="tasting-image">
      <img [src]="tasting.image" [alt]="tasting.coffeeName" />
      <div class="image-overlay">
        <div class="tasting-score">
          <span class="score-value">{{ tasting.score }}</span>
          <span class="score-max">/10</span>
        </div>
      </div>
    </div>
    } @else {
    <div class="tasting-image placeholder">
      <svg viewBox="0 0 24 24" fill="none" stroke="currentColor">
        <path
          d="M18 8h1a4 4 0 0 1 0 8h-1M2 8h16v9a4 4 0 0 1-4 4H6a4 4 0 0 1-4-4V8z"
          stroke-width="2"
          stroke-linecap="round"
          stroke-linejoin="round"
        />
        <line x1="6" y1="1" x2="6" y2="4" stroke-width="2" stroke-linecap="round" />
        <line x1="10" y1="1" x2="10" y2="4" stroke-width="2" stroke-linecap="round" />
        <line x1="14" y1="1" x2="14" y2="4" stroke-width="2" stroke-linecap="round" />
      </svg>
      <div class="image-overlay">
        <div class="tasting-score">
          <span class="score-value">{{ tasting.score }}</span>
          <span class="score-max">/10</span>
        </div>
      </div>
    </div>
    }
  </div>

  <!-- Contenido principal -->
  <div class="tasting-content">
    <!-- Título y marca -->
    <div class="tasting-title-section">
      <h3 class="tasting-name">{{ tasting.coffeeName }}</h3>
      <p class="tasting-brand">{{ tasting.brand }}</p>
    </div>

    <!-- Información básica en chips -->
    <div class="tasting-info-chips">
      <div class="info-chip">
        <svg class="info-icon" viewBox="0 0 24 24" fill="none" stroke="currentColor">
          <path
            d="M21 10c0 7-9 13-9 13s-9-6-9-13a9 9 0 0 1 18 0z"
            stroke-width="2"
            stroke-linecap="round"
            stroke-linejoin="round"
          />
          <circle cx="12" cy="10" r="3" stroke-width="2" />
        </svg>
        <span>{{ tasting.origin }}</span>
      </div>

      <div class="info-chip">
        <svg class="info-icon" viewBox="0 0 24 24" fill="none" stroke="currentColor">
          <path
            d="M12 2.69l5.66 5.66a8 8 0 1 1-11.31 0z"
            stroke-width="2"
            stroke-linecap="round"
            stroke-linejoin="round"
          />
        </svg>
        <span>{{ tasting.roastLevel.label }}</span>
      </div>

      <div class="info-chip">
        <svg class="info-icon" viewBox="0 0 24 24" fill="none" stroke="currentColor">
          <path
            d="M18 8h1a4 4 0 0 1 0 8h-1M2 8h16v9a4 4 0 0 1-4 4H6a4 4 0 0 1-4-4V8z"
            stroke-width="2"
            stroke-linecap="round"
            stroke-linejoin="round"
          />
        </svg>
        <span>{{ tasting.brewMethod.name }}</span>
      </div>
    </div>

    <!-- Características en formato de métricas -->
    <div class="tasting-metrics">
      @if (tasting.body) {
      <div class="metric-item body-metric">
        <div class="metric-icon">{{ tasting.body.icon }}</div>
        <div class="metric-content">
          <span class="metric-label">{{ 'bodyLabel' | translate }}</span>
          <span class="metric-value">
            {{ tasting.body.label | translate }}:
            <span class="metric-description">{{ tasting.body.description | translate }}</span>
          </span>
        </div>
      </div>
      } @if (tasting.acidity) {
      <div class="metric-item acidity-metric">
        <div class="metric-icon">{{ tasting.acidity.icon }}</div>
        <div class="metric-content">
          <span class="metric-label">{{ 'acidityLabel' | translate }}</span>
          <span class="metric-value">
            {{ tasting.acidity.label | translate }}:
            <span class="metric-description">{{ tasting.acidity.description | translate }}</span>
          </span>
        </div>
      </div>
      } @if (tasting.aftertaste) {
      <div class="metric-item aftertaste-metric">
        <div class="metric-icon">{{ tasting.aftertaste.icon }}</div>
        <div class="metric-content">
          <span class="metric-label">{{ 'aftertasteLabel' | translate }}</span>
          <span class="metric-value">
            {{ tasting.aftertaste.label | translate }}:
            <span class="metric-description">{{ tasting.aftertaste.description | translate }}</span>
          </span>
        </div>
      </div>
      }
    </div>

    <!-- Impresión general -->
    @if (tasting.impression) {
    <div class="tasting-impression">
      <svg class="impression-icon" viewBox="0 0 24 24" fill="none" stroke="currentColor">
        <path
          d="M21 15a2 2 0 0 1-2 2H7l-4 4V5a2 2 0 0 1 2-2h14a2 2 0 0 1 2 2z"
          stroke-width="2"
          stroke-linecap="round"
          stroke-linejoin="round"
        />
      </svg>
      <p>{{ tasting.impression }}</p>
    </div>
    }
  </div>
</div>
